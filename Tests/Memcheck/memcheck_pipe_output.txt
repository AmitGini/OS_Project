==4179== Memcheck, a memory error detector
==4179== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==4179== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==4179== Command: ./graph -p
==4179== 
==4179== 
==4179== HEAP SUMMARY:
==4179==     in use at exit: 5,800 bytes in 36 blocks
==4179==   total heap usage: 44 allocs, 8 frees, 82,144 bytes allocated
==4179== 
==4179== 40 bytes in 5 blocks are possibly lost in loss record 1 of 8
==4179==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==4179==    by 0x126988: std::_MakeUniq<std::thread>::__single_object std::make_unique<std::thread, void (ActiveObjectDP::*)(), ActiveObjectDP*>(void (ActiveObjectDP::*&&)(), ActiveObjectDP*&&) (unique_ptr.h:962)
==4179==    by 0x1255AA: ActiveObjectDP::ActiveObjectDP(int) (ActiveObjectDP.cpp:6)
==4179==    by 0x12521C: void __gnu_cxx::new_allocator<ActiveObjectDP>::construct<ActiveObjectDP, int&>(ActiveObjectDP*, int&) (new_allocator.h:162)
==4179==    by 0x1250AF: void std::allocator_traits<std::allocator<ActiveObjectDP> >::construct<ActiveObjectDP, int&>(std::allocator<ActiveObjectDP>&, ActiveObjectDP*, int&) (alloc_traits.h:516)
==4179==    by 0x124E81: std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<int&>(std::allocator<ActiveObjectDP>, int&) (shared_ptr_base.h:519)
==4179==    by 0x124AF7: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<ActiveObjectDP, std::allocator<ActiveObjectDP>, int&>(ActiveObjectDP*&, std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:650)
==4179==    by 0x124741: std::__shared_ptr<ActiveObjectDP, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<ActiveObjectDP>, int&>(std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:1342)
==4179==    by 0x1242D6: std::shared_ptr<ActiveObjectDP>::shared_ptr<std::allocator<ActiveObjectDP>, int&>(std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr.h:409)
==4179==    by 0x123FB0: std::shared_ptr<ActiveObjectDP> std::allocate_shared<ActiveObjectDP, std::allocator<ActiveObjectDP>, int&>(std::allocator<ActiveObjectDP> const&, int&) (shared_ptr.h:863)
==4179==    by 0x123ACB: std::shared_ptr<ActiveObjectDP> std::make_shared<ActiveObjectDP, int&>(int&) (shared_ptr.h:879)
==4179==    by 0x121471: PipeDP::setupPipe() (PipeDP.cpp:31)
==4179== 
==4179== 80 bytes in 1 blocks are definitely lost in loss record 2 of 8
==4179==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==4179==    by 0x124689: __gnu_cxx::new_allocator<std::shared_ptr<ActiveObjectDP> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==4179==    by 0x124243: std::allocator_traits<std::allocator<std::shared_ptr<ActiveObjectDP> > >::allocate(std::allocator<std::shared_ptr<ActiveObjectDP> >&, unsigned long) (alloc_traits.h:464)
==4179==    by 0x123EF7: std::_Vector_base<std::shared_ptr<ActiveObjectDP>, std::allocator<std::shared_ptr<ActiveObjectDP> > >::_M_allocate(unsigned long) (stl_vector.h:346)
==4179==    by 0x1239D1: std::vector<std::shared_ptr<ActiveObjectDP>, std::allocator<std::shared_ptr<ActiveObjectDP> > >::reserve(unsigned long) (vector.tcc:78)
==4179==    by 0x1213E2: PipeDP::setupPipe() (PipeDP.cpp:26)
==4179==    by 0x1210AF: PipeDP::PipeDP() (PipeDP.cpp:11)
==4179==    by 0x117C59: std::_MakeUniq<PipeDP>::__single_object std::make_unique<PipeDP>() (unique_ptr.h:962)
==4179==    by 0x1166AA: Server::Server(bool) (Server.cpp:10)
==4179==    by 0x10CF52: main (main.cpp:36)
==4179== 
==4179== 160 bytes in 5 blocks are still reachable in loss record 3 of 8
==4179==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==4179==    by 0x12712B: std::thread::thread<void (ActiveObjectDP::*)(), ActiveObjectDP*, void>(void (ActiveObjectDP::*&&)(), ActiveObjectDP*&&) (std_thread.h:143)
==4179==    by 0x12699A: std::_MakeUniq<std::thread>::__single_object std::make_unique<std::thread, void (ActiveObjectDP::*)(), ActiveObjectDP*>(void (ActiveObjectDP::*&&)(), ActiveObjectDP*&&) (unique_ptr.h:962)
==4179==    by 0x1255AA: ActiveObjectDP::ActiveObjectDP(int) (ActiveObjectDP.cpp:6)
==4179==    by 0x12521C: void __gnu_cxx::new_allocator<ActiveObjectDP>::construct<ActiveObjectDP, int&>(ActiveObjectDP*, int&) (new_allocator.h:162)
==4179==    by 0x1250AF: void std::allocator_traits<std::allocator<ActiveObjectDP> >::construct<ActiveObjectDP, int&>(std::allocator<ActiveObjectDP>&, ActiveObjectDP*, int&) (alloc_traits.h:516)
==4179==    by 0x124E81: std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<int&>(std::allocator<ActiveObjectDP>, int&) (shared_ptr_base.h:519)
==4179==    by 0x124AF7: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<ActiveObjectDP, std::allocator<ActiveObjectDP>, int&>(ActiveObjectDP*&, std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:650)
==4179==    by 0x124741: std::__shared_ptr<ActiveObjectDP, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<ActiveObjectDP>, int&>(std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:1342)
==4179==    by 0x1242D6: std::shared_ptr<ActiveObjectDP>::shared_ptr<std::allocator<ActiveObjectDP>, int&>(std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr.h:409)
==4179==    by 0x123FB0: std::shared_ptr<ActiveObjectDP> std::allocate_shared<ActiveObjectDP, std::allocator<ActiveObjectDP>, int&>(std::allocator<ActiveObjectDP> const&, int&) (shared_ptr.h:863)
==4179==    by 0x123ACB: std::shared_ptr<ActiveObjectDP> std::make_shared<ActiveObjectDP, int&>(int&) (shared_ptr.h:879)
==4179== 
==4179== 320 bytes in 5 blocks are possibly lost in loss record 4 of 8
==4179==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==4179==    by 0x12834F: __gnu_cxx::new_allocator<TaskQueue::TaskData*>::allocate(unsigned long, void const*) (new_allocator.h:127)
==4179==    by 0x128129: std::allocator_traits<std::allocator<TaskQueue::TaskData*> >::allocate(std::allocator<TaskQueue::TaskData*>&, unsigned long) (alloc_traits.h:464)
==4179==    by 0x127DC3: std::_Deque_base<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >::_M_allocate_map(unsigned long) (stl_deque.h:576)
==4179==    by 0x1279E5: std::_Deque_base<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >::_M_initialize_map(unsigned long) (stl_deque.h:625)
==4179==    by 0x127549: std::_Deque_base<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >::_Deque_base() (stl_deque.h:439)
==4179==    by 0x126F03: std::deque<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >::deque() (stl_deque.h:834)
==4179==    by 0x126F76: std::queue<TaskQueue::TaskData, std::deque<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> > >::queue<std::deque<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >, void>() (stl_queue.h:167)
==4179==    by 0x126835: TaskQueue::TaskQueue() (TaskQueue.hpp:9)
==4179==    by 0x1268B1: std::_MakeUniq<TaskQueue>::__single_object std::make_unique<TaskQueue>() (unique_ptr.h:962)
==4179==    by 0x125555: ActiveObjectDP::ActiveObjectDP(int) (ActiveObjectDP.cpp:5)
==4179==    by 0x12521C: void __gnu_cxx::new_allocator<ActiveObjectDP>::construct<ActiveObjectDP, int&>(ActiveObjectDP*, int&) (new_allocator.h:162)
==4179== 
==4179== 400 bytes in 5 blocks are possibly lost in loss record 5 of 8
==4179==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==4179==    by 0x126853: std::_MakeUniq<TaskQueue>::__single_object std::make_unique<TaskQueue>() (unique_ptr.h:962)
==4179==    by 0x125555: ActiveObjectDP::ActiveObjectDP(int) (ActiveObjectDP.cpp:5)
==4179==    by 0x12521C: void __gnu_cxx::new_allocator<ActiveObjectDP>::construct<ActiveObjectDP, int&>(ActiveObjectDP*, int&) (new_allocator.h:162)
==4179==    by 0x1250AF: void std::allocator_traits<std::allocator<ActiveObjectDP> >::construct<ActiveObjectDP, int&>(std::allocator<ActiveObjectDP>&, ActiveObjectDP*, int&) (alloc_traits.h:516)
==4179==    by 0x124E81: std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<int&>(std::allocator<ActiveObjectDP>, int&) (shared_ptr_base.h:519)
==4179==    by 0x124AF7: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<ActiveObjectDP, std::allocator<ActiveObjectDP>, int&>(ActiveObjectDP*&, std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:650)
==4179==    by 0x124741: std::__shared_ptr<ActiveObjectDP, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<ActiveObjectDP>, int&>(std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:1342)
==4179==    by 0x1242D6: std::shared_ptr<ActiveObjectDP>::shared_ptr<std::allocator<ActiveObjectDP>, int&>(std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr.h:409)
==4179==    by 0x123FB0: std::shared_ptr<ActiveObjectDP> std::allocate_shared<ActiveObjectDP, std::allocator<ActiveObjectDP>, int&>(std::allocator<ActiveObjectDP> const&, int&) (shared_ptr.h:863)
==4179==    by 0x123ACB: std::shared_ptr<ActiveObjectDP> std::make_shared<ActiveObjectDP, int&>(int&) (shared_ptr.h:879)
==4179==    by 0x121471: PipeDP::setupPipe() (PipeDP.cpp:31)
==4179== 
==4179== 960 bytes in 5 blocks are possibly lost in loss record 6 of 8
==4179==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==4179==    by 0x125154: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==4179==    by 0x124FB6: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==4179==    by 0x124CF1: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==4179==    by 0x124A9F: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<ActiveObjectDP, std::allocator<ActiveObjectDP>, int&>(ActiveObjectDP*&, std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:648)
==4179==    by 0x124741: std::__shared_ptr<ActiveObjectDP, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<ActiveObjectDP>, int&>(std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:1342)
==4179==    by 0x1242D6: std::shared_ptr<ActiveObjectDP>::shared_ptr<std::allocator<ActiveObjectDP>, int&>(std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr.h:409)
==4179==    by 0x123FB0: std::shared_ptr<ActiveObjectDP> std::allocate_shared<ActiveObjectDP, std::allocator<ActiveObjectDP>, int&>(std::allocator<ActiveObjectDP> const&, int&) (shared_ptr.h:863)
==4179==    by 0x123ACB: std::shared_ptr<ActiveObjectDP> std::make_shared<ActiveObjectDP, int&>(int&) (shared_ptr.h:879)
==4179==    by 0x121471: PipeDP::setupPipe() (PipeDP.cpp:31)
==4179==    by 0x1210AF: PipeDP::PipeDP() (PipeDP.cpp:11)
==4179==    by 0x117C59: std::_MakeUniq<PipeDP>::__single_object std::make_unique<PipeDP>() (unique_ptr.h:962)
==4179== 
==4179== 1,440 bytes in 5 blocks are possibly lost in loss record 7 of 8
==4179==    at 0x484DA83: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==4179==    by 0x40147D9: calloc (rtld-malloc.h:44)
==4179==    by 0x40147D9: allocate_dtv (dl-tls.c:375)
==4179==    by 0x40147D9: _dl_allocate_tls (dl-tls.c:634)
==4179==    by 0x4B4E7B4: allocate_stack (allocatestack.c:430)
==4179==    by 0x4B4E7B4: pthread_create@@GLIBC_2.34 (pthread_create.c:647)
==4179==    by 0x4949328: std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==4179==    by 0x127165: std::thread::thread<void (ActiveObjectDP::*)(), ActiveObjectDP*, void>(void (ActiveObjectDP::*&&)(), ActiveObjectDP*&&) (std_thread.h:143)
==4179==    by 0x12699A: std::_MakeUniq<std::thread>::__single_object std::make_unique<std::thread, void (ActiveObjectDP::*)(), ActiveObjectDP*>(void (ActiveObjectDP::*&&)(), ActiveObjectDP*&&) (unique_ptr.h:962)
==4179==    by 0x1255AA: ActiveObjectDP::ActiveObjectDP(int) (ActiveObjectDP.cpp:6)
==4179==    by 0x12521C: void __gnu_cxx::new_allocator<ActiveObjectDP>::construct<ActiveObjectDP, int&>(ActiveObjectDP*, int&) (new_allocator.h:162)
==4179==    by 0x1250AF: void std::allocator_traits<std::allocator<ActiveObjectDP> >::construct<ActiveObjectDP, int&>(std::allocator<ActiveObjectDP>&, ActiveObjectDP*, int&) (alloc_traits.h:516)
==4179==    by 0x124E81: std::_Sp_counted_ptr_inplace<ActiveObjectDP, std::allocator<ActiveObjectDP>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<int&>(std::allocator<ActiveObjectDP>, int&) (shared_ptr_base.h:519)
==4179==    by 0x124AF7: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<ActiveObjectDP, std::allocator<ActiveObjectDP>, int&>(ActiveObjectDP*&, std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:650)
==4179==    by 0x124741: std::__shared_ptr<ActiveObjectDP, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<ActiveObjectDP>, int&>(std::_Sp_alloc_shared_tag<std::allocator<ActiveObjectDP> >, int&) (shared_ptr_base.h:1342)
==4179== 
==4179== 2,400 bytes in 5 blocks are possibly lost in loss record 8 of 8
==4179==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==4179==    by 0x1284E5: __gnu_cxx::new_allocator<TaskQueue::TaskData>::allocate(unsigned long, void const*) (new_allocator.h:127)
==4179==    by 0x12837E: std::allocator_traits<std::allocator<TaskQueue::TaskData> >::allocate(std::allocator<TaskQueue::TaskData>&, unsigned long) (alloc_traits.h:464)
==4179==    by 0x128157: std::_Deque_base<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >::_M_allocate_node() (stl_deque.h:562)
==4179==    by 0x127E40: std::_Deque_base<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >::_M_create_nodes(TaskQueue::TaskData**, TaskQueue::TaskData**) (stl_deque.h:663)
==4179==    by 0x127A3B: std::_Deque_base<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >::_M_initialize_map(unsigned long) (stl_deque.h:637)
==4179==    by 0x127549: std::_Deque_base<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >::_Deque_base() (stl_deque.h:439)
==4179==    by 0x126F03: std::deque<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >::deque() (stl_deque.h:834)
==4179==    by 0x126F76: std::queue<TaskQueue::TaskData, std::deque<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> > >::queue<std::deque<TaskQueue::TaskData, std::allocator<TaskQueue::TaskData> >, void>() (stl_queue.h:167)
==4179==    by 0x126835: TaskQueue::TaskQueue() (TaskQueue.hpp:9)
==4179==    by 0x1268B1: std::_MakeUniq<TaskQueue>::__single_object std::make_unique<TaskQueue>() (unique_ptr.h:962)
==4179==    by 0x125555: ActiveObjectDP::ActiveObjectDP(int) (ActiveObjectDP.cpp:5)
==4179== 
==4179== LEAK SUMMARY:
==4179==    definitely lost: 80 bytes in 1 blocks
==4179==    indirectly lost: 0 bytes in 0 blocks
==4179==      possibly lost: 5,560 bytes in 30 blocks
==4179==    still reachable: 160 bytes in 5 blocks
==4179==         suppressed: 0 bytes in 0 blocks
==4179== 
==4179== For lists of detected and suppressed errors, rerun with: -s
==4179== ERROR SUMMARY: 7 errors from 7 contexts (suppressed: 0 from 0)
